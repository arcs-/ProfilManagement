<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <link href="resources/images/favicon.ico" rel="shortcut icon"/>
    <title>BZZ - Profile</title>
    <h:outputStylesheet library="css" name="default.css"/>

    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <h:outputScript library="js" name="swipeNav.min.js"/>
    <h:outputScript library="js" name="drop.min.js"/>

</h:head>
<h:body>

    <ui:include src="navigation.xhtml"/>

    <ui:composition>

        <div id="workspace">

            <h1>Personal info</h1>

            <div id="profileContainer">
                <h:graphicImage library="images" value="#{profileBean.student.profilePicturePathTime}" />

                <h:form id="imageContainer" enctype="multipart/form-data">

                    <h:inputFile id="file" value="#{profileBean.profilePicture}">
                        <f:validator validatorId="fileUploadValidator"/>
                    </h:inputFile>
                    <br/>

                    <h:commandButton action="#{profileBean.upload()}" value="Upload"/>
                    <h:message for="file" class="wrong"/>
                </h:form>
            </div>

            <h:form id="formContainer">

                <div class="formBlock">
                    <h:outputLabel value="Username" for="username"/>
                    <h:inputText id="username" value="#{profileBean.student.userName}" disabled="true"/>
                </div>

                <div class="formBlock">
                    <h:message for="firstName" class="singleError"/>
                    <h:outputLabel value="First Name" for="firstName"/>
                    <h:inputText id="firstName" value="#{profileBean.student.firstName}" maxlength="30"/>
                </div>

                <div class="formBlock">
                    <h:message for="lastName" class="singleError"/>
                    <h:outputLabel value="Last Name" for="lastName"/>
                    <h:inputText id="lastName" value="#{profileBean.student.lastName}" maxlength="30"/>
                </div>
                <br/> <br/>

                <div class="formBlock">
                    <h:outputLabel value="BZZ Mail" for="schoolMail"/>
                    <h:inputText id="schoolMail" value="#{profileBean.student.schoolMail}" disabled="true"/>
                </div>

                <div class="formBlock">
                    <h:message for="privateMail" class="singleError"/>
                    <h:outputLabel value="Private Mail" for="privateMail"/>
                    <h:inputText id="privateMail" value="#{profileBean.student.privateMail}" maxlength="30">
                        <f:validator validatorId="emailAddressValidator"/>
                    </h:inputText>
                </div>
                <br/><br/>

                <div class="formBlock">
                    <h:message for="phone" class="singleError"/>
                    <h:outputLabel value="Phone number" for="phone"/>
                    <h:inputText id="phone" value="#{profileBean.student.phoneNumber}" maxlength="30"/>
                </div>
                <br/><br/>

                <div class="formBlock">
                    <h:message for="street" class="singleError"/>
                    <h:outputLabel value="Street" for="street"/>
                    <h:inputText id="street" value="#{profileBean.student.addressStreet}" maxlength="30"/>
                </div>

                <div class="formBlock">
                    <h:message for="city" class="singleError"/>
                    <h:outputLabel value="City" for="city"/>
                    <h:inputText id="city" value="#{profileBean.student.addressCity}" maxlength="30"/>
                </div><br/>

                <br/><br/>
                <h:commandButton class="cancel small" value="Cancel" type="reset"/>
                <h:commandButton class="next small" value="Save" action="#{profileBean.save()}"/>
            </h:form>
        </div>
    </ui:composition>


</h:body>
</html>