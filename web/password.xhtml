<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <link href="resources/images/favicon.ico" rel="shortcut icon"/>
    <title>BZZ - Profile</title>
    <h:outputStylesheet library="css" name="default.css"/>

    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <h:outputScript library="js" name="swipeNav.min.js"/>

</h:head>
<h:body>

    <ui:include src="navigation.xhtml"/>

    <ui:composition>

        <div id="workspace">

            <h1>Neues Passwort</h1>

            <h:panelGrid columns="1" rendered="#{passwordBean.success}" class="isa_success">
                <h:outputText value="Neues Passwort gespeichert."/>
            </h:panelGrid>

            <h:form id="formContainer">

                <div class="formBlock">
                    <h:message for="oldPassword" class="singleError"/>
                    <h:outputLabel value="Altes Passwort" for="oldPassword"/>
                    <h:inputSecret id="oldPassword" required="true" value="#{passwordBean.oldPassword}"
                                   requiredMessage="Bitte gib dein altes Passwort ein"/>
                </div>
                <br/><br/>

                <div class="formBlock">
                    <h:message for="password" class="singleError"/>
                    <h:outputLabel value="Neues Passwort" for="password"/>
                    <h:inputSecret id="password" value="#{passwordBean.newPassword}" required="true"
                                   requiredMessage="Bitte gib dein neues Passwort ein">
                        <f:validator validatorId="passwordValidator"/>
                        <f:attribute name="confirmPassword" value="#{confirmPassword}"/>
                    </h:inputSecret>
                </div>

                <div class="formBlock">
                    <h:message for="confirmPassword" class="singleError"/>
                    <h:outputLabel value="Passwort wiederhohlen" for="confirmPassword"/>
                    <h:inputSecret id="confirmPassword" required="true" binding="#{confirmPassword}"
                                  requiredMessage="Bitte wiederhole dein neues Passwort"/>
                </div>

                <br/><br/>
                <h:commandButton class="cancel small" value="Abbrechen" type="reset"/>
                <h:commandButton class="next small" value="Speichern" action="#{passwordBean.save()}"/>
            </h:form>
        </div>
    </ui:composition>


</h:body>

</html>